!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CoinsLogonWidget",[],t):"object"==typeof exports?exports.CoinsLogonWidget=t():e.CoinsLogonWidget=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){a.call(this,e);var t=r.EVENTS,n=this,i=h.assertString(e.authCookieName,"authCookieName"),s=h.assertString(e.baseUrl,"baseUrl");this.element=h.assertElement(e.el),this._options={authCookieName:i,baseUrl:s},this._options.messages=e.messages?c({},l,e.messages):l,this._options.checkAuth="boolean"==typeof e.checkAuth?e.checkAuth:!1,this._options.redirect="boolean"==typeof e.redirect?e.redirect:!1,this._options.redirectUrl="string"==typeof e.redirectUrl?e.redirectUrl:void 0,this._state={horizontal:!!e.horizontal,isLoggedIn:!1,onSubmit:this.login.bind(this),passwordProps:{id:f("coins-logon-widget-"),name:"password",type:"password"},redirectUrl:this._options.redirectUrl,usernameProps:{id:f("coins-logon-widget-"),name:"username"}},o.setOptions({authCookieName:i,baseUrl:s}),this.on(t.LOGIN,this.login),this.on(t.LOGIN_ERROR,this.onError),this.on(t.LOGIN_ACCOUNT_EXPIRED,this.onAccountExpired),this.on(t.LOGIN_ACCOUNT_WILL_EXPIRE,this.onAccountWillExpire),this.on(t.LOGIN_PASSWORD_EXPIRED,this.onPasswordExpired),this.on(t.LOGIN_PASSWORD_WILL_EXPIRE,this.onPasswordWillExpire),this.on(t.LOGIN_SUCCESS,this.onLogin),this.on(t.LOGOUT,this.logout),this.on(t.LOGOUT_ERROR,this.onError),this.on(t.LOGOUT_SUCCESS,this.onLogout),this.init(),this._options.checkAuth&&o.isLoggedIn().then(function(e){e&&n.emit(t.LOGIN_SUCCESS,{username:o.getUsername()})})}var o=n(1),i=n(37),s=n(50),a=n(55),u=n(56),c=n(2),l=n(79),p=n(59),f=n(80),h=n(82);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.update(null),this.removeAllListeners()},r.prototype.getFormData=function(){var e=this.element.querySelector("input[name=password]").value,t=this.element.querySelector("input[name=username]").value;return{password:e,username:t}},r.prototype.init=function(){this._tree=u(this._state),this._rootNode=i(this._tree),this.element.className=this.element.className+" coins-logon-widget",this.element.appendChild(this._rootNode)},r.prototype.login=function(){var e,t=this,n=r.EVENTS,i=this.getFormData(),s=i.password,a=i.username;return a&&s?(this.update({isLoading:!0}),o.login(a,s).then(function(e){var o=Date.parse(e.user.acctExpDate),i=r.DAY,s=Date.now(),a=Date.parse(e.user.passwordExpDate);return t.update({isLoading:!1}),10*i>o-s?t.emit(n.LOGIN_ACCOUNT_WILL_EXPIRE,e):10*i>a-s?t.emit(n.LOGIN_PASSWORD_WILL_EXPIRE,e):t.emit(n.LOGIN_SUCCESS,e),e},function(e){return t.update({isLoading:!1}),"Password expired"===e?t.emit(n.LOGIN_PASSWORD_EXPIRED,e):"Account expired"===e?t.emit(n.LOGIN_ACCOUNT_EXPIRED,e):t.emit(n.LOGIN_ERROR,e),e})):(e={},a||(e.usernameProps={errorMessage:"Missing username!",onKeyPress:this.onKeyPress.bind(this)},this.emit(n.INVALID,{field:"username"})),s||(e.passwordProps={errorMessage:"Missing password!",onKeyPress:this.onKeyPress.bind(this)},this.emit(n.INVALID,{field:"password"})),this.update(e))},r.prototype.logout=function(){var e=r.EVENTS,t=this;return this.update({isLoading:!0}),o.logout().then(function(n){return t.update({isLoading:!1}),t.emit(e.LOGOUT_SUCCESS,n),n},function(n){return t.update({isLoading:!1}),t.emit(e.LOGOUT_ERROR,n),n})},r.prototype.update=function(e){if(e!==this._state){if(this._state=c({},this._state,e),this._state.isLoggedIn)this._state.passwordProps.value="";else{var t=this.getFormData();this._state.passwordProps.value=t.password,this._state.usernameProps.value=t.username}var n=u(this._state),r=s(this._tree,n);this._rootNode=p(this._rootNode,r),this._tree=n}},r.prototype.onAccountExpired=function(){var e=h.callOrReturn(this._options.messages.accountExpired);this.update({errorMessage:e})},r.prototype.onAccountWillExpire=function(e){var t=Date.parse(e.user.acctExpDate),n=Date.now(),o=h.callOrReturn(this._options.messages.accountWillExpire,[h.formatDay((t-n)/r.DAY)]);this.update({errorMessage:o})},r.prototype.onError=function(e){var t;t="undefined"!=typeof e?e.message||e.toString():"Unknown error!",this.update({errorMessage:t}),console.error(e)},r.prototype.onKeyPress=function(e){var t={errorMessage:null,onKeyPress:null};"username"===e.target.name&&this.update({usernameProps:t}),"password"===e.target.name&&this.update({passwordProps:t})},r.prototype.onLogin=function(e){this._options.redirect&&this._options.redirectUrl?window.location=this._options.redirectUrl:this.update({isLoggedIn:!0,username:e.username})},r.prototype.onLogout=function(){this.update({isLoggedIn:!1})},r.prototype.onPasswordExpired=function(){var e=h.callOrReturn(this._options.messages.passwordExpired);this.update({errorMessage:e})},r.prototype.onPasswordWillExpire=function(e){var t=Date.parse(e.user.passwordExpDate),n=Date.now(),o=h.callOrReturn(this._options.messages.passwordWillExpire,[h.formatDay((t-n)/r.DAY)]);this.update({errorMessage:o})},r.DAY=864e5,r.EVENTS={INVALID:"invalid",LOGIN:"login:init",LOGIN_ERROR:"login:error",LOGIN_ACCOUNT_EXPIRED:"login:accountExpired",LOGIN_ACCOUNT_WILL_EXPIRE:"login:accountWillExpire",LOGIN_PASSWORD_EXPIRED:"login:passwordExpired",LOGIN_PASSWORD_WILL_EXPIRE:"login:passwordWillExpire",LOGIN_SUCCESS:"login:success",LOGOUT:"logout:init",LOGOUT_ERROR:"logout:error",LOGOUT_SUCCESS:"logout:success"},e.exports=r},function(e,t,n){"use strict";function r(){return JSON.parse(localStorage.getItem(x))}function o(e){return localStorage.setItem(x,JSON.stringify(e)),r()}function i(e,t,n){var r=m.client.header(e,t,{credentials:n});return{Authorization:r.field}}function s(e){var t=u();return t.baseUrl+e}function a(){var e=u().authCookieName,t=location.hostname.split("."),n={path:"/"};return t.length>2?n.domain="."+t.slice(-2).join("."):n.domain=t.join("."),n?(y.remove(e,n),y.remove(e)):y.remove(e),o({date:Date.now(),status:"logged out"}),[].slice.call(arguments)}function u(){return w}function c(e){return g(w,e),u()}function l(e){return e.data[0]}function p(e){var t,n=e.statusText;return e.responseText&&(t=JSON.parse(e.responseText)||{},t=(t.error||{}).message||""),t||n||"Unknown error"}function f(){var e=r();return"username"in e?e.username:""}function h(e,t){var n=jQuery.Deferred();return jQuery.ajax({data:{password:btoa(t),username:btoa(e)},dataType:"json",type:"POST",url:s("/auth/keys"),xhrFields:{withCredentials:!0}}).done(function(e){var t=l(e);o(t),n.resolve(t)}).fail(function(e){n.reject(p(e))}),n.promise()}function d(){var e=r(),t="DELETE",n=s("/auth/keys/"+e.id);return jQuery.ajax({dataType:"json",headers:i(n,t,e),type:t,url:n,xhrFields:{withCredentials:!0}}).then(l,p).then(a,a)}function v(){var e,t,n=y.get(u().authCookieName),o=r();return n&&o&&(!(o instanceof Object)||"id"in o&&"key"in o)?(e="GET",t=s("/auth/cookies/"+n),jQuery.ajax({dataType:"json",type:e,url:t,xhrFields:{withCredentials:!0}}).then(function(e){return"error"in e&&!e.error},function(){return!1})):jQuery.Deferred().resolve(!1)}var g=n(2),y=n(35),m=n(36),x="COINS_AUTH_CREDENTIALS",w={authCookieName:"",baseUrl:""};-1!==document.cookie.split("; ").indexOf("REMOVED")&&(document.cookie="=REMOVED;path=/;domain=.mrn.org;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e.exports={getOptions:u,setOptions:c,login:h,logout:d,isLoggedIn:v,getUsername:f}},function(e,t,n){var r=n(3),o=n(30),i=o(r);e.exports=i},function(e,t,n){function r(e,t,n,f,h){if(!u(e))return e;var d=a(t)&&(s(t)||l(t)),v=d?void 0:p(t);return o(v||t,function(o,s){if(v&&(s=o,o=t[s]),c(o))f||(f=[]),h||(h=[]),i(e,t,s,r,n,f,h);else{var a=e[s],u=n?n(a,o,s,e,t):void 0,l=void 0===u;l&&(u=o),void 0===u&&(!d||s in e)||!l&&(u===u?u===a:a!==a)||(e[s]=u)}}),e}var o=n(4),i=n(5),s=n(13),a=n(8),u=n(17),c=n(12),l=n(25),p=n(28);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){function r(e,t,n,r,p,f,h){for(var d=f.length,v=t[n];d--;)if(f[d]==v)return void(e[n]=h[d]);var g=e[n],y=p?p(g,v,n,e,t):void 0,m=void 0===y;m&&(y=v,a(v)&&(s(v)||c(v))?y=s(g)?g:a(g)?o(g):[]:u(v)||i(v)?y=i(g)?l(g):u(g)?g:{}:m=!1),f.push(v),h.push(y),m?e[n]=r(y,v,p,f,h):(y===y?y!==g:g===g)&&(e[n]=y)}var o=n(6),i=n(7),s=n(13),a=n(8),u=n(18),c=n(25),l=n(26);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e)&&a.call(e,"callee")&&!u.call(e,"callee")}var o=n(8),i=n(12),s=Object.prototype,a=s.hasOwnProperty,u=s.propertyIsEnumerable;e.exports=r},function(e,t,n){function r(e){return null!=e&&i(o(e))}var o=n(9),i=n(11);e.exports=r},function(e,t,n){var r=n(10),o=r("length");e.exports=o},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){var r=n(14),o=n(11),i=n(12),s="[object Array]",a=Object.prototype,u=a.toString,c=r(Array,"isArray"),l=c||function(e){return i(e)&&o(e.length)&&u.call(e)==s};e.exports=l},function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}var o=n(15);e.exports=r},function(e,t,n){function r(e){return null==e?!1:o(e)?l.test(u.call(e)):i(e)&&s.test(e)}var o=n(16),i=n(12),s=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,c=a.hasOwnProperty,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return o(e)&&a.call(e)==i}var o=n(17),i="[object Function]",s=Object.prototype,a=s.toString;e.exports=r},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){var t;if(!s(e)||l.call(e)!=a||i(e)||!c.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return o(e,function(e,t){n=t}),void 0===n||c.call(e,n)}var o=n(19),i=n(7),s=n(12),a="[object Object]",u=Object.prototype,c=u.hasOwnProperty,l=u.toString;e.exports=r},function(e,t,n){function r(e,t){return o(e,t,i)}var o=n(20),i=n(23);e.exports=r},function(e,t,n){var r=n(21),o=r();e.exports=o},function(e,t,n){function r(e){return function(t,n,r){for(var i=o(t),s=r(t),a=s.length,u=e?a:-1;e?u--:++u<a;){var c=s[u];if(n(i[c],c,i)===!1)break}return t}}var o=n(22);e.exports=r},function(e,t,n){function r(e){return o(e)?e:Object(e)}var o=n(17);e.exports=r},function(e,t,n){function r(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(i(e)||o(e))&&t||0;for(var n=e.constructor,r=-1,c="function"==typeof n&&n.prototype===e,p=Array(t),f=t>0;++r<t;)p[r]=r+"";for(var h in e)f&&s(h,t)||"constructor"==h&&(c||!l.call(e,h))||p.push(h);return p}var o=n(7),i=n(13),s=n(24),a=n(11),u=n(17),c=Object.prototype,l=c.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,o=9007199254740991;e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e.length)&&!!A[j.call(e)]}var o=n(11),i=n(12),s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",v="[object RegExp]",g="[object Set]",y="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",w="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",E="[object Int16Array]",b="[object Int32Array]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",L="[object Uint32Array]",A={};A[w]=A[_]=A[O]=A[E]=A[b]=A[N]=A[k]=A[S]=A[L]=!0,A[s]=A[a]=A[x]=A[u]=A[c]=A[l]=A[p]=A[f]=A[h]=A[d]=A[v]=A[g]=A[y]=A[m]=!1;var I=Object.prototype,j=I.toString;e.exports=r},function(e,t,n){function r(e){return o(e,i(e))}var o=n(27),i=n(23);e.exports=r},function(e,t){function n(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}e.exports=n},function(e,t,n){var r=n(14),o=n(8),i=n(17),s=n(29),a=r(Object,"keys"),u=a?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):i(e)?a(e):[]}:s;e.exports=u},function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,c=!!r&&a(r)&&(i(e)||o(e)),p=-1,f=[];++p<n;){var h=t[p];(c&&s(h,r)||l.call(e,h))&&f.push(h)}return f}var o=n(7),i=n(13),s=n(24),a=n(11),u=n(23),c=Object.prototype,l=c.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return s(function(t,n){var r=-1,s=null==t?0:n.length,a=s>2?n[s-2]:void 0,u=s>2?n[2]:void 0,c=s>1?n[s-1]:void 0;for("function"==typeof a?(a=o(a,c,5),s-=2):(a="function"==typeof c?c:void 0,s-=a?1:0),u&&i(n[0],n[1],u)&&(a=3>s?void 0:a,s=1);++r<s;){var l=n[r];l&&e(t,l,a)}return t})}var o=n(31),i=n(33),s=n(34);e.exports=r},function(e,t,n){function r(e,t,n){if("function"!=typeof e)return o;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,s){return e.call(t,n,r,o,i,s)}}return function(){return e.apply(t,arguments)}}var o=n(32);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;if("number"==r?o(n)&&i(t,n.length):"string"==r&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}var o=n(8),i=n(24),s=n(17);e.exports=r},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),s=Array(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=s,e.apply(this,a)}}var r="Expected a function",o=Math.max;e.exports=n},function(e,t,n){var r,o;/*!
	 * JavaScript Cookie v2.0.4
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */
!function(i){r=i,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var s;if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(u){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,p=0;p<c.length;p++){var f=c[p].split("="),h=f[0].replace(l,decodeURIComponent),d=f.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=n&&n(d,h)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(u){}if(t===h){s=d;break}t||(s[h]=d)}catch(u){}}return s}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t()})},function(e,t){var n={internals:{}};n.client={header:function(e,t,r){var o={field:"",artifacts:{}};if(!e||"string"!=typeof e&&"object"!=typeof e||!t||"string"!=typeof t||!r||"object"!=typeof r)return o.err="Invalid argument type",o;var i=r.timestamp||n.utils.now(r.localtimeOffsetMsec),s=r.credentials;if(!(s&&s.id&&s.key&&s.algorithm))return o.err="Invalid credentials object",o;if(-1===n.crypto.algorithms.indexOf(s.algorithm))return o.err="Unknown algorithm",o;"string"==typeof e&&(e=n.utils.parseUri(e));var a={ts:i,nonce:r.nonce||n.utils.randomString(6),method:t,resource:e.resource,host:e.host,port:e.port,hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};o.artifacts=a,a.hash||!r.payload&&""!==r.payload||(a.hash=n.crypto.calculatePayloadHash(r.payload,s.algorithm,r.contentType));var u=n.crypto.calculateMac("header",s,a),c=null!==a.ext&&void 0!==a.ext&&""!==a.ext,l='Hawk id="'+s.id+'", ts="'+a.ts+'", nonce="'+a.nonce+(a.hash?'", hash="'+a.hash:"")+(c?'", ext="'+n.utils.escapeHeaderAttribute(a.ext):"")+'", mac="'+u+'"';return a.app&&(l+=', app="'+a.app+(a.dlg?'", dlg="'+a.dlg:"")+'"'),o.field=l,o},bewit:function(e,t){if(!e||"string"!=typeof e||!t||"object"!=typeof t||!t.ttlSec)return"";t.ext=null===t.ext||void 0===t.ext?"":t.ext;var r=n.utils.now(t.localtimeOffsetMsec),o=t.credentials;if(!(o&&o.id&&o.key&&o.algorithm))return"";if(-1===n.crypto.algorithms.indexOf(o.algorithm))return"";e=n.utils.parseUri(e);var i=r+t.ttlSec,s=n.crypto.calculateMac("bewit",o,{ts:i,nonce:"",method:"GET",resource:e.resource,host:e.host,port:e.port,ext:t.ext}),a=o.id+"\\"+i+"\\"+s+"\\"+t.ext;return n.utils.base64urlEncode(a)},authenticate:function(e,t,r,o){o=o||{};var i=function(t){return e.getResponseHeader?e.getResponseHeader(t):e.getHeader(t)},s=i("www-authenticate");if(s){var a=n.utils.parseAuthorizationHeader(s,["ts","tsm","error"]);if(!a)return!1;if(a.ts){var u=n.crypto.calculateTsMac(a.ts,t);if(u!==a.tsm)return!1;n.utils.setNtpOffset(a.ts-Math.floor((new Date).getTime()/1e3))}}var c=i("server-authorization");if(!c&&!o.required)return!0;var l=n.utils.parseAuthorizationHeader(c,["mac","ext","hash"]);if(!l)return!1;var p={ts:r.ts,nonce:r.nonce,method:r.method,resource:r.resource,host:r.host,port:r.port,hash:l.hash,ext:l.ext,app:r.app,dlg:r.dlg},f=n.crypto.calculateMac("response",t,p);if(f!==l.mac)return!1;if(!o.payload&&""!==o.payload)return!0;if(!l.hash)return!1;var h=n.crypto.calculatePayloadHash(o.payload,t.algorithm,i("content-type"));return h===l.hash},message:function(e,t,r,o){if(!e||"string"!=typeof e||!t||"number"!=typeof t||null===r||void 0===r||"string"!=typeof r||!o||"object"!=typeof o)return null;var i=o.timestamp||n.utils.now(o.localtimeOffsetMsec),s=o.credentials;if(!(s&&s.id&&s.key&&s.algorithm))return null;if(-1===n.crypto.algorithms.indexOf(s.algorithm))return null;var a={ts:i,nonce:o.nonce||n.utils.randomString(6),host:e,port:t,hash:n.crypto.calculatePayloadHash(r,s.algorithm)},u={id:s.id,ts:a.ts,nonce:a.nonce,hash:a.hash,mac:n.crypto.calculateMac("message",s,a)};return u},authenticateTimestamp:function(e,t,r){var o=n.crypto.calculateTsMac(e.ts,t);return o!==e.tsm?!1:(r!==!1&&n.utils.setNtpOffset(e.ts-Math.floor((new Date).getTime()/1e3)),!0)}},n.crypto={headerVersion:"1",algorithms:["sha1","sha256"],calculateMac:function(e,t,o){var i=n.crypto.generateNormalizedString(e,o),s=r["Hmac"+t.algorithm.toUpperCase()](i,t.key);return s.toString(r.enc.Base64)},generateNormalizedString:function(e,t){var r="hawk."+n.crypto.headerVersion+"."+e+"\n"+t.ts+"\n"+t.nonce+"\n"+(t.method||"").toUpperCase()+"\n"+(t.resource||"")+"\n"+t.host.toLowerCase()+"\n"+t.port+"\n"+(t.hash||"")+"\n";return t.ext&&(r+=t.ext.replace("\\","\\\\").replace("\n","\\n")),r+="\n",t.app&&(r+=t.app+"\n"+(t.dlg||"")+"\n"),r},calculatePayloadHash:function(e,t,o){var i=r.algo[t.toUpperCase()].create();return i.update("hawk."+n.crypto.headerVersion+".payload\n"),i.update(n.utils.parseContentType(o)+"\n"),i.update(e),i.update("\n"),i.finalize().toString(r.enc.Base64)},calculateTsMac:function(e,t){var o=r["Hmac"+t.algorithm.toUpperCase()]("hawk."+n.crypto.headerVersion+".ts\n"+e+"\n",t.key);return o.toString(r.enc.Base64)}},n.internals.LocalStorage=function(){this._cache={},this.length=0,this.getItem=function(e){return this._cache.hasOwnProperty(e)?String(this._cache[e]):null},this.setItem=function(e,t){this._cache[e]=String(t),this.length=Object.keys(this._cache).length},this.removeItem=function(e){delete this._cache[e],this.length=Object.keys(this._cache).length},this.clear=function(){this._cache={},this.length=0},this.key=function(e){return Object.keys(this._cache)[e||0]}},n.utils={storage:new n.internals.LocalStorage,setStorage:function(e){var t=n.utils.storage.getItem("hawk_ntp_offset");n.utils.storage=e,t&&n.utils.setNtpOffset(t)},setNtpOffset:function(e){try{n.utils.storage.setItem("hawk_ntp_offset",e)}catch(t){console.error("[hawk] could not write to storage."),console.error(t)}},getNtpOffset:function(){var e=n.utils.storage.getItem("hawk_ntp_offset");return e?parseInt(e,10):0},now:function(e){return Math.floor(((new Date).getTime()+(e||0))/1e3)+n.utils.getNtpOffset()},escapeHeaderAttribute:function(e){return e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},parseContentType:function(e){return e?e.split(";")[0].replace(/^\s+|\s+$/g,"").toLowerCase():""},parseAuthorizationHeader:function(e,t){if(!e)return null;var n=e.match(/^(\w+)(?:\s+(.*))?$/);if(!n)return null;var r=n[1];if("hawk"!==r.toLowerCase())return null;var o=n[2];if(!o)return null;var i={},s=o.replace(/(\w+)="([^"\\]*)"\s*(?:,\s*|$)/g,function(e,n,r){return-1===t.indexOf(n)||null===r.match(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~]+$/)||i.hasOwnProperty(n)?void 0:(i[n]=r,"")});return""!==s?null:i},randomString:function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=t.length,r=[],o=0;e>o;++o)r[o]=t[Math.floor(Math.random()*n)];return r.join("")},uriRegex:/^([^:]+)\:\/\/(?:[^@]*@)?([^\/:]+)(?:\:(\d+))?([^#]*)(?:#.*)?$/,parseUri:function(e){var t=e.match(n.utils.uriRegex);if(!t)return{host:"",port:"",resource:""};var r=t[1].toLowerCase(),o={host:t[2],port:t[3]||("http"===r?"80":"https"===r?"443":""),resource:t[4]};return o},base64urlEncode:function(e){var t=r.enc.Utf8.parse(e),n=r.enc.Base64.stringify(t);return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}};var r=r||function(e,t){var n={},r=n.lib={},o=function(){},i=r.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;e>o;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-8*(o%4)&255)<<24-8*((r+o)%4);else if(65535<n.length)for(o=0;e>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),a=n.enc={},u=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++){var o=t[r>>>2]>>>24-8*(r%4)&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*i,o=e.min(4*t,o),t){for(var u=0;t>u;u+=i)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=o}return new s.init(u,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(){var e=r,t=e.lib,n=t.WordArray,o=t.Hasher,i=[],t=e.algo.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],s=n[2],a=n[3],u=n[4],c=0;80>c;c++){if(16>c)i[c]=0|e[t+c];else{var l=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=l<<1|l>>>31}l=(r<<5|r>>>27)+u+i[c],l=20>c?l+((o&s|~o&a)+1518500249):40>c?l+((o^s^a)+1859775393):60>c?l+((o&s|o&a|s&a)-1894007588):l+((o^s^a)-899497514),u=a,a=s,s=o<<30|o>>>2,o=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=o._createHelper(t),e.HmacSHA1=o._createHmacHelper(t)}(),function(e){for(var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,n=t.algo,s=[],a=[],u=function(e){return 4294967296*(e-(0|e))|0},c=2,l=0;64>l;){var p;e:{p=c;for(var f=e.sqrt(p),h=2;f>=h;h++)if(!(p%h)){p=!1;break e}p=!0}p&&(8>l&&(s[l]=u(e.pow(c,.5))),a[l]=u(e.pow(c,1/3)),l++),c++}var d=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],u=n[4],c=n[5],l=n[6],p=n[7],f=0;64>f;f++){if(16>f)d[f]=0|e[t+f];else{var h=d[f-15],v=d[f-2];d[f]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+d[f-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[f-16]}h=p+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[f]+d[f],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&o^r&i^o&i),p=l,l=c,c=u,u=s+h|0,s=i,i=o,o=r,r=h+v|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[(o+64>>>9<<4)+14]=e.floor(r/4294967296),n[(o+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var e=r,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,o=4*r;n.sigBytes>o&&(n=e.finalize(n)),n.clamp();for(var i=this._oKey=n.clone(),s=this._iKey=n.clone(),a=i.words,u=s.words,c=0;r>c;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var o=0;n>o;o+=3)for(var i=(t[o>>>2]>>>24-8*(o%4)&255)<<16|(t[o+1>>>2]>>>24-8*((o+1)%4)&255)<<8|t[o+2>>>2]>>>24-8*((o+2)%4)&255,s=0;4>s&&n>o+.75*s;s++)e.push(r.charAt(i>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,o=r.charAt(64);o&&(o=e.indexOf(o),-1!=o&&(n=o));for(var o=[],i=0,s=0;n>s;s++)if(s%4){var a=r.indexOf(e.charAt(s-1))<<2*(s%4),u=r.indexOf(e.charAt(s))>>>6-2*(s%4);o[i>>>2]|=(a|u)<<24-8*(i%4),i++}return t.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.crypto.internals=r,"undefined"!=typeof e&&e.exports&&(e.exports=n)},function(e,t,n){var r=n(38);e.exports=r},function(e,t,n){function r(e,t){var n=t?t.document||o:o,l=t?t.warn:null;if(e=c(e).a,u(e))return e.init();if(a(e))return n.createTextNode(e.text);if(!s(e))return l&&l("Item is not a valid virtual dom node",e),null;var p=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),f=e.properties;i(p,f);for(var h=e.children,d=0;d<h.length;d++){var v=r(h[d],t);v&&p.appendChild(v)}return p}var o=n(39),i=n(41),s=n(44),a=n(46),u=n(47),c=n(48);e.exports=r},function(e,t,n){(function(t){var r="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},o=n(40);if("undefined"!=typeof document)e.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}}).call(t,function(){return this}())},function(e,t){},function(e,t,n){function r(e,t,n){for(var r in t){var s=t[r];void 0===s?o(e,r,s,n):u(s)?(o(e,r,s,n),s.hook&&s.hook(e,r,n?n[r]:void 0)):a(s)?i(e,t,n,r,s):e[r]=s}}function o(e,t,n,r){if(r){var o=r[t];if(u(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var s in o)e.style[s]="";else"string"==typeof o?e[t]="":e[t]=null}}function i(e,t,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&a(i)&&s(i)!==s(o))return void(e[r]=o);a(e[r])||(e[r]={});var u="style"===r?"":void 0;for(var c in o){var l=o[c];e[r][c]=void 0===l?u:l}}else for(var p in o){var f=o[p];void 0===f?e.removeAttribute(p):e.setAttribute(p,f)}}function s(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var a=n(42),u=n(43);e.exports=r},function(e,t){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}e.exports=n},function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=n(45);e.exports=r},function(e,t){e.exports="2"},function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=n(45);e.exports=r},function(e,t){function n(e){return e&&"Widget"===e.type}e.exports=n},function(e,t,n){function r(e,t){var n=e,r=t;return u(t)&&(r=o(t,e)),u(e)&&(n=o(e,null)),{a:n,b:r}}function o(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(i(n)||s(n)||a(n)))throw new Error("thunk did not return a valid node");return n}var i=n(44),s=n(46),a=n(47),u=n(49);e.exports=r},function(e,t){function n(e){return e&&"Thunk"===e.type}e.exports=n},function(e,t,n){var r=n(51);e.exports=r},function(e,t,n){function r(e,t){var n={a:e};return o(e,t,n,0),n}function o(e,t,n,r){if(e!==t){var o=n[r],a=!1;if(_(e)||_(t))u(e,t,n,r);else if(null==t)w(e)||(s(e,n,r),o=n[r]),o=v(o,new y(y.REMOVE,e,t));else if(m(t))if(m(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=E(e.properties,t.properties);c&&(o=v(o,new y(y.PROPS,e,c))),o=i(e,t,n,o,r)}else o=v(o,new y(y.VNODE,e,t)),a=!0;else o=v(o,new y(y.VNODE,e,t)),a=!0;else x(t)?x(e)?e.text!==t.text&&(o=v(o,new y(y.VTEXT,e,t))):(o=v(o,new y(y.VTEXT,e,t)),a=!0):w(t)&&(w(e)||(a=!0),o=v(o,new y(y.WIDGET,e,t)));o&&(n[r]=o),a&&s(e,n,r)}}function i(e,t,n,r,i){for(var s=e.children,a=f(s,t.children),u=a.children,c=s.length,l=u.length,p=c>l?c:l,h=0;p>h;h++){var d=s[h],g=u[h];i+=1,d?o(d,g,n,i):g&&(r=v(r,new y(y.INSERT,null,g))),m(d)&&d.count&&(i+=d.count)}return a.moves&&(r=v(r,new y(y.ORDER,e,a.moves))),r}function s(e,t,n){l(e,t,n),a(e,t,n)}function a(e,t,n){if(w(e))"function"==typeof e.destroy&&(t[n]=v(t[n],new y(y.REMOVE,e,null)));else if(m(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;o>i;i++){var s=r[i];n+=1,a(s,t,n),m(s)&&s.count&&(n+=s.count)}else _(e)&&u(e,null,t,n)}function u(e,t,n,o){var i=O(e,t),s=r(i.a,i.b);c(s)&&(n[o]=new y(y.THUNK,null,s))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function l(e,t,n){if(m(e)){if(e.hooks&&(t[n]=v(t[n],new y(y.PROPS,e,p(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;o>i;i++){var s=r[i];n+=1,l(s,t,n),m(s)&&s.count&&(n+=s.count)}}else _(e)&&u(e,null,t,n)}function p(e){var t={};for(var n in e)t[n]=void 0;return t}function f(e,t){var n=d(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=d(e),s=i.keys,a=i.free;if(a.length===e.length)return{children:t,moves:null};for(var u=[],c=0,l=o.length,p=0,f=0;f<e.length;f++){var v,g=e[f];g.key?r.hasOwnProperty(g.key)?(v=r[g.key],u.push(t[v])):(v=f-p++,u.push(null)):l>c?(v=o[c++],u.push(t[v])):(v=f-p++,u.push(null))}for(var y=c>=o.length?t.length:o[c],m=0;m<t.length;m++){var x=t[m];x.key?s.hasOwnProperty(x.key)||u.push(x):m>=y&&u.push(x)}for(var w,_=u.slice(),O=0,E=[],b=[],N=0;N<t.length;){var k=t[N];for(w=_[O];null===w&&_.length;)E.push(h(_,O,null)),w=_[O];w&&w.key===k.key?(O++,N++):k.key?(w&&w.key&&r[w.key]!==N+1?(E.push(h(_,O,w.key)),w=_[O],w&&w.key===k.key?O++:b.push({key:k.key,to:N})):b.push({key:k.key,to:N}),N++):w&&w.key&&E.push(h(_,O,w.key))}for(;O<_.length;)w=_[O],E.push(h(_,O,w&&w.key));return E.length!==p||b.length?{children:u,moves:{removes:E,inserts:b}}:{children:u,moves:null}}function h(e,t,n){return e.splice(t,1),{from:t,key:n}}function d(e){for(var t={},n=[],r=e.length,o=0;r>o;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function v(e,t){return e?(g(e)?e.push(t):e=[e,t],e):t}var g=n(52),y=n(53),m=n(44),x=n(46),w=n(47),_=n(49),O=n(48),E=n(54);e.exports=r},function(e,t){function n(e){return"[object Array]"===o.call(e)}var r=Array.isArray,o=Object.prototype.toString;e.exports=r||n},function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var o=n(45);r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,e.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},function(e,t,n){function r(e,t){var n;for(var a in e){a in t||(n=n||{},n[a]=void 0);var u=e[a],c=t[a];if(u!==c)if(i(u)&&i(c))if(o(c)!==o(u))n=n||{},n[a]=c;else if(s(c))n=n||{},n[a]=c;else{var l=r(u,c);l&&(n=n||{},n[a]=l)}else n=n||{},n[a]=c}for(var p in t)p in e||(n=n||{},n[p]=t[p]);return n}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=n(42),s=n(43);e.exports=r},function(e,t,n){var r;(function(){"use strict";function t(){}function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var s=t.prototype,a=this,u=a.EventEmitter;s.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},s.addListener=function(e,t){var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&(n=o(i[r],t),-1!==n&&i[r].splice(n,1));return this},s.off=i("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):s.call(this,r,o));return this},s.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(e,t){var n,r,o,i,s,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=n.length;o--;)r=n[o],r.once===!0&&this.removeListener(e,r.listener),s=r.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},s.trigger=i("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return a.EventEmitter=u,t},r=function(){return t}.call(a,n,a,e),!(void 0!==r&&(e.exports=r))}).call(this)},function(e,t,n){"use strict";function r(e){var t,n=e.errorMessage,r=!!e.horizontal,l=(e.inputs,"undefined"!=typeof e.isLoading?e.isLoading:!1),p="undefined"!=typeof e.isLoggedIn?e.isLoggedIn:!1,f=e.onSubmit,h=e.passwordProps,d=e.redirectUrl,v=e.username,g=e.usernameProps,y=[],m="coins-logon-widget-form";return r&&(m+=" coins-logon-widget-form-horizontal"),p?(t=[{style:"secondary",text:"Log Out",type:"submit"}],d&&t.push({href:d,text:"Go to COINS →",type:"link"}),y.push(u({username:v}),o.apply(null,t))):(n&&(y.push(a({text:n})),m+=" coins-logon-widget-form-error"),y.push(i(g),i(h),o({text:"Log In",type:"submit"}))),l&&(y.push(s()),m+=" coins-logon-widget-form-loading"),new c("form",{className:m,onsubmit:function(e){e.preventDefault(),f(e)},method:"post"},y)}var o=n(57),i=n(75),s=n(76),a=n(77),u=n(78),c=n(58).VNode;e.exports=r},function(e,t,n){"use strict";function r(e){var t="coins-logon-widget-button",n=e.href,r=e.onClick,o=e.style||"primary",a=e.text,u=e.type||"button";t+=" coins-logon-widget-button-"+o;var c,l={className:t};return"link"===u?(c="a",n&&(l.href=n)):(c="button",l.type=u),r&&(l.onclick=function(e){e.preventDefault(),r(e)}),new i(c,l,[new s(a)])}function o(e){var t=arguments.length>1?[].slice.call(arguments).map(r):[r(e)],n="coins-logon-widget-button-group";return new i("div",{className:n},t)}var i=n(58).VNode,s=n(58).VText;e.exports=o},function(e,t,n){var r=n(50),o=n(59),i=n(64),s=n(37),a=n(66),u=n(67);e.exports={diff:r,patch:o,h:i,create:s,VNode:a,VText:u}},function(e,t,n){var r=n(60);e.exports=r},function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:o,n.render=n.render||c,n.patch(e,t,n)}function o(e,t,n){var r=s(t);if(0===r.length)return e;var o=l(e,t.a,r),u=e.ownerDocument;n.document||u===a||(n.document=u);for(var c=0;c<r.length;c++){var p=r[c];e=i(e,o[p],t[p],n)}return e}function i(e,t,n,r){if(!t)return e;var o;if(u(n))for(var i=0;i<n.length;i++)o=p(n[i],t,r),t===e&&(e=o);else o=p(n,t,r),t===e&&(e=o);return e}function s(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var a=n(39),u=n(52),c=n(38),l=n(61),p=n(62);e.exports=r},function(e,t){function n(e,t,n,o){return n&&0!==n.length?(n.sort(i),r(e,t,n,o,0)):{}}function r(e,t,n,i,a){if(i=i||{},e){o(n,a,a)&&(i[a]=e);var u=t.children;if(u)for(var c=e.childNodes,l=0;l<t.children.length;l++){a+=1;var p=u[l]||s,f=a+(p.count||0);o(n,a,f)&&r(c[l],p,n,i,a),a=f}}return i}function o(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,s=e.length-1;s>=i;){if(r=(s+i)/2>>0,o=e[r],i===s)return o>=t&&n>=o;if(t>o)i=r+1;else{if(!(o>n))return!0;s=r-1}}return!1}function i(e,t){return e>t?1:-1}var s={};e.exports=n},function(e,t,n){function r(e,t,n){var r=e.type,c=e.vNode,h=e.patch;switch(r){case d.REMOVE:return o(t,c);case d.INSERT:return i(t,h,n);case d.VTEXT:return s(t,c,h,n);case d.WIDGET:return a(t,c,h,n);case d.VNODE:return u(t,c,h,n);case d.ORDER:return l(t,h),t;case d.PROPS:return f(t,h,c.properties),t;case d.THUNK:return p(t,n.patch(t,h,n));default:return t}}function o(e,t){var n=e.parentNode;return n&&n.removeChild(e),c(e,t),null}function i(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function s(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}function a(e,t,n,r){var o,i=v(t,n);o=i?n.update(t,e)||e:r.render(n,r);var s=e.parentNode;return s&&o!==e&&s.replaceChild(o,e),i||c(e,t),o}function u(e,t,n,r){var o=e.parentNode,i=r.render(n,r);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&h(t)&&t.destroy(e)}function l(e,t){for(var n,r,o,i=e.childNodes,s={},a=0;a<t.removes.length;a++)r=t.removes[a],n=i[r.from],r.key&&(s[r.key]=n),e.removeChild(n);for(var u=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],n=s[o.key],e.insertBefore(n,o.to>=u++?null:i[o.to])}function p(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var f=n(41),h=n(47),d=n(53),v=n(63);e.exports=r},function(e,t,n){function r(e,t){return o(e)&&o(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var o=n(47);e.exports=r},function(e,t,n){var r=n(65);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r,s,u,c,l=[];return!n&&a(t)&&(n=t,s={}),s=s||t||{},r=m(e,s),s.hasOwnProperty("key")&&(u=s.key,s.key=void 0),s.hasOwnProperty("namespace")&&(c=s.namespace,s.namespace=void 0),"INPUT"!==r||c||!s.hasOwnProperty("value")||void 0===s.value||g(s.value)||(s.value=x(s.value)),i(s),void 0!==n&&null!==n&&o(n,l,r,s),new p(r,s,l,u,c)}function o(e,t,n,r){if("string"==typeof e)t.push(new f(e));else if("number"==typeof e)t.push(new f(String(e)));else if(s(e))t.push(e);else{if(!l(e)){if(null===e||void 0===e)return;throw u({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(g(n))continue;"ev-"===t.substr(0,3)&&(e[t]=w(n))}}function s(e){return h(e)||d(e)||v(e)||y(e)}function a(e){return"string"==typeof e||l(e)||s(e)}function u(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(e.foreignObject)+".\nThe parent vnode is:\n"+c(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function c(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var l=n(52),p=n(66),f=n(67),h=n(44),d=n(46),v=n(47),g=n(43),y=n(49),m=n(68),x=n(70),w=n(71);e.exports=r},function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||c,this.children=n||l,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var p,f=n&&n.length||0,h=0,d=!1,v=!1,g=!1;for(var y in t)if(t.hasOwnProperty(y)){var m=t[y];u(m)&&m.unhook&&(p||(p={}),p[y]=m)}for(var x=0;f>x;x++){var w=n[x];i(w)?(h+=w.count||0,!d&&w.hasWidgets&&(d=!0),!v&&w.hasThunks&&(v=!0),g||!w.hooks&&!w.descendantHooks||(g=!0)):!d&&s(w)?"function"==typeof w.destroy&&(d=!0):!v&&a(w)&&(v=!0)}this.count=f+h,this.hasWidgets=d,this.hasThunks=v,this.hooks=p,this.descendantHooks=g}var o=n(45),i=n(44),s=n(47),a=n(49),u=n(43);e.exports=r;var c={},l=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(e,t,n){function r(e){this.text=String(e)}var o=n(45);e.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),a=null;s.test(r[1])&&(a="DIV");var u,c,l,p;for(p=0;p<r.length;p++)c=r[p],c&&(l=c.charAt(0),a?"."===l?(u=u||[],u.push(c.substring(1,c.length))):"#"===l&&n&&(t.id=c.substring(1,c.length)):a=c);return u&&(t.className&&u.push(t.className),t.className=u.join(" ")),t.namespace?a:a.toUpperCase()}var o=n(69),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,s=/^\.|#/;e.exports=r},function(e,t){/*!
	 * Cross-Browser Split 1.1.1
	 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
	 * Available under the MIT License
	 * ECMAScript compliant, uniform cross-browser split method
	 */
e.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(t,o,i);var s,a,u,c,l=[],p=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),f=0,o=new RegExp(o.source,p+"g");for(t+="",r||(s=new RegExp("^"+o.source+"$(?!\\s)",p)),i=i===e?-1>>>0:i>>>0;(a=o.exec(t))&&(u=a.index+a[0].length,!(u>f&&(l.push(t.slice(f,a.index)),!r&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(l,a.slice(1)),c=a[0].length,f=u,l.length>=i)));)o.lastIndex===a.index&&o.lastIndex++;return f===t.length?(c||!o.test(""))&&l.push(""):l.push(t.slice(f)),l.length>i?l.slice(0,i):l}}()},function(e,t){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}e.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var o=n(72);e.exports=r,r.prototype.hook=function(e,t){var n=o(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=o(e),r=t.substr(3);n[r]=void 0}},function(e,t,n){"use strict";function r(e){var t=e[s];return t||(t=e[s]={}),t}var o=n(73),i="7";o("ev-store",i);var s="__EV_STORE_KEY@"+i;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",s=o(i,t);if(s!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+s+" installed.\nThis means you cannot install version "+t);return o(r,n)}var o=n(74);e.exports=r},function(e,t){(function(t){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof t?t:{};e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){var t=e.errorMessage,n=e.id,r=e.name,s=e.type||"text",a="undefined"!=typeof e.value?e.value:"",u="coins-logon-widget-form-group",c=r.charAt(0).toUpperCase()+r.substr(1),l={className:"coins-logon-widget-input",id:n,name:r,placeholder:c,type:s,value:a},p=[new o("label",{className:"coins-logon-widget-label coins-logon-widget-visuallyhidden","for":n},[new i(c)])];return t&&(p.push(new o("span",{"aria-hidden":"true",className:"coins-logon-widget-icon"}),new o("span",{className:"coins-logon-widget-input-message"},[new i(t)])),u+=" coins-logon-widget-form-group-error",l.onkeypress=function(t){e.onKeyPress(t)}),p.splice(1,0,new o("input",l)),new o("div",{className:u},p)}var o=n(58).VNode,i=n(58).VText;e.exports=r},function(e,t,n){"use strict";function r(){var e="http://www.w3.org/2000/svg";return new o("div",{className:"coins-logon-widget-indicator"},[new o("svg",void 0,[new o("title",void 0,[new i("Loading…")],void 0,e),new o("circle",{attributes:{cx:"20",cy:"20",fill:"none",r:"8","stroke-width":"2","stroke-miterlimit":"4"}},void 0,void 0,e)],void 0,e)])}var o=n(58).VNode,i=n(58).VText;e.exports=r},function(e,t,n){"use strict";function r(e){var t,n={className:["coins-logon-widget-notification","coins-logon-widget-notification-error"].join(" ")},r=e.text;return Array.isArray(r)?t=r:"string"==typeof r&&(-1!==r.indexOf("<")&&-1!==r.indexOf(">")?n.innerHTML=r:t=[new i(r)]),new o("div",n,t)}var o=n(58).VNode,i=n(58).VText;e.exports=r},function(e,t,n){"use strict";function r(e){var t="coins-logon-widget-status",n=e.username,r=n?[new i("Logged in as "),new o("strong",void 0,[new i(n)]),new i(".")]:[new i("Logged in.")];return new o("p",{className:t},r)}var o=n(58).VNode,i=n(58).VText;e.exports=r},function(e,t){"use strict";e.exports={accountExpired:"Your account has expired.",accountWillExpire:function(e){return"Your account will expire in "+e+"."},passwordExpired:"Your password has expired.",passwordWillExpire:function(e){return"Your password will expire in "+e+"."}}},function(e,t,n){function r(e){var t=++i;return o(e)+t}var o=n(81),i=0;e.exports=r},function(e,t){function n(e){return null==e?"":e+""}e.exports=n},function(e,t){"use strict";function n(e){if(!e)throw new TypeError("Element required");if(!(e instanceof Node))throw new TypeError("Expected element to be a DOM node");return e}function r(e,t){if(!e||"string"!=typeof e)throw new TypeError(["expected string",t?" ("+t+")":"",", received: ",e.toString()].join(""));return e}function o(e,t){return e instanceof Function?e.apply(null,t):e}function i(e){return 1>e?"less than 1 day":""+Math.ceil(e)+" days"}e.exports={assertElement:n,assertString:r,callOrReturn:o,formatDay:i}}])});